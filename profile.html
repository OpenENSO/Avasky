<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
    <title>Avasky</title>
    <meta name="description" content="Decentralized solution to verification and resource access using Magic Links.">
    <link rel="stylesheet" href="assets/bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Cabin:700">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=ABeeZee">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Catamaran:100,200,300,400,500,600,700,800,900">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Muli">
    <link rel="stylesheet" href="assets/fonts/font-awesome.min.css">
    <link rel="stylesheet" href="assets/fonts/typicons.min.css">
    <link rel="stylesheet" href="assets/css/Community-ChatComments.css">
    <link rel="stylesheet" href="assets/css/Contact-Form-Clean.css">
    <link rel="stylesheet" href="assets/css/F19537---MySkills.css">
    <link rel="stylesheet" href="assets/css/flipCard_SaraSantos_12073.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.5.2/animate.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/aos/2.3.4/aos.css">
    <link rel="stylesheet" href="assets/css/LinkedIn-like-Profile-Box.css">
    <link rel="stylesheet" href="assets/css/skyidlog.css">

</head>

<body>
    <nav class="navbar navbar-light navbar-expand-md">
        <div class="container-fluid"><a class="navbar-brand" href="#">Bra<img class="bg-white border rounded" src="assets/img/avaskylogo.png" style="height: 70px;padding: 0px;margin: 8px;">nd</a><button data-toggle="collapse" class="navbar-toggler" data-target="#navcol-1"><span class="sr-only">Toggle navigation</span><span class="navbar-toggler-icon"></span></button>
            <div class="collapse navbar-collapse" id="navcol-1">
                <ul class="nav navbar-nav">
                    <li class="nav-item"></li>
                    <li class="nav-item"></li>
                </ul>
                <div class="col-lg-6 offset-lg-6"><button class="skyid-button button-blow big-margin" type="button" style="width: 268px;" onclick="skyid.sessionStart()" id="authbt">SkyID Auth</button></div>
            </div>
        </div>
    </nav>
    <hr style="background: #1ccd19;">
    <div>
        <div class="container">
            <div class="row">
                <div class="col-md-12">
                    <h2 class="text-success" style="text-shadow: 0px 0px 20px rgb(251,252,251);">YOUR HANDY AVA PROFILE</h2>
                </div>
            </div>
            <div class="row">
                <div class="col-md-4 col-lg-3 offset-lg-0">
                    <div class="text-center border rounded border-primary shadow-sm profile-box" style="width: 200px;height: 300px;margin: 5px;color: rgb(4,4,4);background: #514646;">
                        <div style="height: 50px;background-image: url(&quot;assets/img/bg-pattern.png&quot;);background-color: rgba(54,162,177,0);"></div>
                        <div><img class="rounded-circle" src="assets/img/avaskyicon.png" width="60px" height="60px" style="background-color: rgb(255,255,255);padding: 2px;"></div>
                        <div style="height: 80px;">
                            <h6 style="color: rgb(40,167,69);"></h6>
                            <p style="font-size: 14px;color: rgb(40,167,69);" id="vStatus"></p>
                        </div>
                        <p style="font-size: 14px;height: 0px;"><strong>Connected services:</strong></p>
                        <ol start="Skydrop" style="font-size: 13px;background: rgba(255,255,255,0.26);">
                            <li>Skydrop - unlinked</li>
                            <li id='cApp2'>Avasky - unlinked</li>
                            <li id='cApp'>Gitcoin - unlinked</li>
                        </ol>
                    </div>
                </div>
                <div class="col-md-4 col-lg-4">
                    <h4>AVA SCORE</h4>
                    <div class="progress">
                        <div id="verifBar" class="progress-bar" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100" style="width: 100%;">10%</div>
                    </div>
                    <p>Verified?</p>
                    <div class="progress">
                        <div id="linkBar" class="progress-bar" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100" style="width: 100%;">33.3%</div>
                    </div>
                    <p>Linked</p>

                    <button class="btn btn-dark border rounded" type="button" style="text-align: center;margin: 3px;" onclick="queryVerification(uuidv4())">GET VERIFIED</button>
                </div>
                <div class="col-md-4 offset-lg-1" style="height: 360px;">
                    <div class="container">
                        <h6>Brightid connect</h6>
                        <div class="flip-card" style="width: 230px;height: 230px;">
                            <div class="flip-card-inner">
                                <div class="flip-card-front"><img class="rounded" src="assets/img/brightid.png" alt="Avatar" width="300px" height="300px" style="width: 230px;height: 230px;"></div>

                                <div class="flip-card-back" style="color: var(--light);background: rgb(9,10,10);">
                                  <canvas id="brightid"></canvas>

                                    <p><a href="#" onclick="generateQRCode();return false;" id="qrgen"></a>&nbsp;</p>
                                </div>
                                <script src="https://cdnjs.cloudflare.com/ajax/libs/qrious/4.0.2/qrious.min.js"></script>
                                <script>

                                // generate contextID

                                function uuidv4() {
                                    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {
                                        var r = Math.random() * 16 | 0, v = c == 'x' ? r : (r & 0x3 | 0x8);
                                        return v.toString(16);
                                      });
                                    }
                                    // generate QR code for given contextID
                                  var qr;
                                  (function(){
                                    qr = new QRious({
                                      element: document.getElementById('brightid'),
                                      size: 200,
                                      value: "https://app.brightid.org/link-verification/http:%2f%2fnode.brightid.org/Discord/" + uuidv4()
                                    });
                                  })();

                                 function generateQRCode() {
                                   var qrtext = "https://app.brightid.org/link-verification/http:%2f%2fnode.brightid.org/Discord/" + uuidv4();
                                   qr.set({
                                     foreground:'black',
                                     size: 200,
                                     value: qrtext
                                   });
                                 }

                                 // verify the status
                                 // TODO: stricter verification conditions
                                 async function queryVerification(contextID) {
                                   url = "https://app.brightid.org/node/v5/verifications/Discord/" + contextID;
                                   try {
                                     const response = await fetch(url);
                                     const data = await response.json();
                                     const status = document.getElementById('vStatus');
                                     status.innerHTML = "Unverified on BrightID";
                                     const cApp = document.getElementById('cApp');
                                     cApp.innerHTML = 'Gitcoin - linked';
                                     const verifBar = document.getElementById('verifBar');
                                     verifBar.innerHTML = '100%';
                                     const linkBar = document.getElementById('linkBar');
                                     linkBar.innerHTML = '66.6%';

                                   } catch ( err ) {
                                     console.log("Error during verification!");
                                   }


                                 }

                                </script>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <hr style="background: #1ccd19;">
    <div class="card" style="color: var(--dark);">
        <div class="card-header" style="color: var(--dark);background: #111010;border-color: #000000;">
            <h3 style="color: var(--light);border-color: var(--dark);background: rgba(3,3,3,0);">GOOD DEEDS</h3>
        </div>
        <div class="card-body" style="height: 233px;background: #070606;">
            <ul class="list-group">
                <li class="list-group-item" style="margin-bottom: 6px;background: rgba(248,246,246,0);">
                    <div class="media">
                        <div></div>
                        <div class="media-body">
                            <div class="media" style="overflow:visible;">
                                <div><img class="mr-3" style="width: 25px; height:25px;" src="assets/img/brightid.png"></div>
                                <div class="media-body" style="overflow:visible;">
                                    <div class="row">
                                        <div class="col-md-12">
                                            <p style="color: var(--cyan);"><a href="https://github.com/CrissElena">Chris:</a>&nbsp;Good co-worker, focused on the task and always ready to help.&nbsp;<br>
<small class="text-muted" style="color: var(--cyan);">December 9, 2020 @ 12:15 p.m.</small></p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </li>
            </ul><button class="btn btn-dark" style="margin-left:601px;margin-top:-9px;" type="button">Add Comment</button>
        </div>
    </div>
    <script src="https://sky-id.hns.siasky.net/skyid.js"></script>
    <script>


    var skyid = new SkyID('Avasky', skyidEventCallback)

    function skyidEventCallback(message) {
	     switch (message) {
		       case 'login_fail':
			        console.log('Login failed')
			           break;
		       case 'login_success':
			           const profile = document.getElementById('authbt');
                 const service = document.getElementById('cApp2');
                 profile.innerHTML="Logged in!";
                 service.innerHTML="Avasky - linked";
			           break;
		       case 'destroy':
			        console.log('Logout succeed!')
			           break;
		      default:
			       console.log(message)
			          break;
	     }
     }

    </script>
    <script src="assets/js/jquery.min.js"></script>
    <script src="assets/bootstrap/js/bootstrap.min.js"></script>
    <script src="assets/js/bs-init.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/aos/2.3.4/aos.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.4.1/jquery.easing.min.js"></script>
    <script src="assets/js/grayscale.js"></script>

</body>

</html>
